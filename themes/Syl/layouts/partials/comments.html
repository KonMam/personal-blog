<div class="giscus-wrapper">
  <script src="https://giscus.app/client.js"
          data-repo="KonMam/personal-blog"
          data-repo-id="R_kgDOPgBYvg"
          data-category="Announcements"
          data-category-id="DIC_kwDOPgBYvs4C2PNg"
          data-mapping="pathname"
          data-strict="1"
          data-reactions-enabled="1"
          data-emit-metadata="0"
          data-input-position="bottom"
          data-theme="dark"
          data-lang="en"
          crossorigin="anonymous"
          async>
  </script>
</div>
<script>
(function() {
  function getGiscusTheme() {
    return document.documentElement.getAttribute('data-theme') === 'light' ? 'light' : 'dark';
  }
  function setGiscusTheme(theme) {
    var iframe = document.querySelector('iframe.giscus-frame');
    if (iframe) {
      iframe.contentWindow.postMessage(
        { giscus: { setConfig: { theme: theme } } },
        'https://giscus.app'
      );
    }
  }
  // Watch for theme changes
  var observer = new MutationObserver(function() {
    setGiscusTheme(getGiscusTheme());
  });
  observer.observe(document.documentElement, { attributes: true, attributeFilter: ['data-theme'] });
  // Set initial theme once giscus loads
  window.addEventListener('message', function(e) {
    if (e.origin === 'https://giscus.app' && e.data && e.data.giscus) {
      setGiscusTheme(getGiscusTheme());
    }
  });
})();
</script>
